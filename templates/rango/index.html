{% extends 'rango/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Index Page
{% endblock %}

{% block body_block %}
    
    <div>
        {% if user.is_authenticated %}
            <h1>Rango says...Hello {{ user.username }}!</h1>
        {% else %}
            <h1>Rango says...Hello World!</h1>
        {% endif %}
    </div>

    <div>
    <h3>Most Liked Categories</h3>
    {% if cat_likes %}
    <ul>
        {% for category in cat_likes %}
            <li>
                <a href="{% url 'show_category' category.slug %}">{{ category.name }}</a>
            </li>
        {% endfor %}
    </ul>
    {% else %}
        <strong>There are no categories present.</strong>
    {% endif %}
    </div>

    <h3>Most Viewed Pages</h3>
    <div>
    {% if page_views %}
    <ul>
        {% for page in page_views %}
            <li>
                <a href="{{ page.url }}">{{ page.title }}</a>
            </li>
        {% endfor %}
    </ul>
    {% else %}
        <strong>There are no pages present.</strong>
    {% endif %}
    </div>

    <img src="{% static "images/rango.jpg" %}" alt="Picture of Rango" />
    <p>visits: {{ visits }}</p>
       
{% endblock %}